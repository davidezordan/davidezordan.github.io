---
id: 8340
title: Analysing Unity projects using NDepend v2021.1
date: 2021-09-04T20:24:00+00:00
author: davidezordan
layout: post
guid: https://davide.dev/ndepend-unity-support
categories:
  - C#
  - Unity
category: blog
headerImage: false
tags:
  - NDepend
  - Unity
---
<p style="text-align: justify;">
Patrick, the creator of the code analysis tool NDepend, recently contacted me and asked if I could provide some feedback about the latest release, v2021.1. I was pleasantly surprised to find support for both Unity and mobile applications development, as explained in detail in the release notes.
</p>

<p style="text-align: justify;">
The new Unity application support is particularly noteworthy: it enables complete assessment of the C# scrips associated with a project to identify improvements that can be applied to the code. It is worth mentioning that performance is always a top priority in Unity applications; hence the availability of automated tools for highlighting enhancements is a fundamental part of the project lifecycle.
</p>

<p style="text-align: justify;">
For this reason, NDepend default settings have been updated not to highlight false positives: as an example, the Fields should be declared as private rule is now disabled for these projects as it is often better, for performance reasons, to use fields instead of properties (some excellent presentations about performance from the Unite Now 2020 conference are available here and here).
</p>

<p style="text-align: justify;">
To start, I downloaded the trial version from the official site, and installed the product in my machine:
<figure><img src="../assets/images/posts/2021/09/NDepend2021-Image1.PNG" /></figure>
</p>

<p style="text-align: justify;">
Additionally, a Visual Studio extension is available and can be installed for IDE integration:
<figure><img src="../assets/images/posts/2021/09/NDepend2021-Image2.PNG" /></figure>
</p>

<p style="text-align: justify;">
I am often using Jetbrains Rider as an editor for Unity applications; in this case I found convenient to rely on the standalone executable <em>VisualNDepend</em> for performing all the code analysis.
</p>

<p style="text-align: justify;">
To evaluate the new features available in the new release, I opened an old project I often use as a playground, which I know needs improvements from both a code and functionalities point of view. Using VisualNDepend, I selected the Visual Studio solution generated by Unity and chose the corresponding assembly Assembly-CSharp containing the custom scripts:
<figure><img src="../assets/images/posts/2021/09/NDepend2021-Image3.PNG" /></figure>
</p>

<p style="text-align: justify;">
After the report-generation phase completed, it was possible to access the related dashboard which enabled the visualisation of the results. By selecting the desired namespace, it was possible to highlight specifics:
<figure><img src="../assets/images/posts/2021/09/NDepend2021-Image4.PNG" /></figure>
</p>

<p style="text-align: justify;">
And from here, showing more details about the relations between the different classes using a dependency graph, which I personally find very informative to understand more about the project structure. From this visualisation, it was possible to better analyse the technical debt associated with the different parts:
<figure><img src="../assets/images/posts/2021/09/NDepend2021-Image5.PNG" /></figure>
</p>

<p style="text-align: justify;">
I found particularly useful the usage of the integrated CLinq feature which enabled different queries to be performed on the code issues using LINQ:
<figure><img src="../assets/images/posts/2021/09/NDepend2021-Image6.PNG" /></figure>
</p>

<p style="text-align: justify;">
At this stage, it was possible to quickly identify potential improvements in the various C# classes of the scripts, which can easily be refined using the integrated query tools.
</p>

<p style="text-align: justify;">
The integrated Unity support available in NDepend is a valuable tool to guarantee good code quality in projects: I will definitely integrate it into my development workflow.
</p>

<p style="text-align: justify;">
Happy coding!
</p>